# ğŸ“‹ è®¨è®ºç»“æœ

## ç›®æ ‡æè¿°

**èƒŒæ™¯ï¼š**
- ç”¨æˆ·åœ¨ä¸ªäººç”µè„‘ä¸Šè¿›è¡Œæ—¥å¸¸å­¦ä¹ å’Œå·¥ä½œï¼ˆæµè§ˆå™¨æœç´¢ã€å­¦ä¹ ï¼‰
- å†…å®¹æ²‰æ·€åˆ†æ•£åœ¨å¤šä¸ªåœ°æ–¹ï¼šnotebooklmã€lark docsã€notion ç­‰
- æœ‰ä¸€ä¸ª online excel sheet ä½œä¸º"ä¸­å¿ƒç«™ç‚¹"è®°å½•æ—¥ç¨‹å’Œæ–‡æ¡£é“¾æ¥

**é—®é¢˜ï¼š**
- å­¦ä¹ æ–‡æ¡£è¿‡äºåˆ†æ•£ï¼Œä¸æ“…é•¿åš all-in-one ç®¡ç†

**éœ€æ±‚ï¼š**
- æ‰¾åˆ°ä¸€ä¸ªå¥½çš„ all-in-one æ–¹æ³•ï¼ˆall-in åˆ° Notionï¼‰
- è®¨è®º heartbeat æœºåˆ¶ï¼Œæ¯å¤©å®šæœŸæ£€æŸ¥ä¸­å¿ƒç«™å†…å®¹
- å¯¹ç‰¹å®šæ—¶é—´æ®µå†…å®Œæˆçš„å­¦ä¹ å’Œå·¥ä½œè¿›è¡Œ summarize
- æ”¯æŒå‘ç¾¤ç»„å‘é€ update

**æœŸæœ›ç»“æœå½¢å¼ï¼š**
- æ—¥å¸¸æ€»ç»“ä»¥æ—¥æŠ¥å½¢å¼å‘ˆç°
- æ ¼å¼ï¼šä»Šå¤©åšäº† x ä»¶äº‹ï¼Œé›†ä¸­åœ¨ [tag1],[tag2],[tag3] æ–¹å‘ï¼Œç„¶ååˆ†åˆ«é™ˆè¿°æ¯ä»¶äº‹çš„ç›®çš„+å…·ä½“è¡ŒåŠ¨
- Heartbeat æ£€æŸ¥é¢‘ç‡ï¼š1 æ—¥ 1 æ¬¡
- æ€»ç»“è·ç¦»ä¸Šä¸€æ¬¡ heartbeat äº§ç”Ÿçš„æ–°å·¥ä½œ
- ç›®æ ‡ç¾¤ç»„ï¼š-5022816091

---

## è§£æ³•è¯´æ˜

**æ–¹æ¡ˆï¼šä»¥ Notion ä¸ºä¸­å¿ƒçš„ All-in-One æ–¹æ¡ˆ**

### æ•°æ®åº“è®¾è®¡

- **Database ID:** 2fa8daf1727c80929790e2e9a276371d
- **URL:** https://www.notion.so/2fa8daf1727c80929790e2e9a276371d

**Properties:**
- `Title` (title) - ç®€çŸ­æ ‡é¢˜
- `Date` (date) - æ—¥æœŸ
- `Time Block` (rich_text) - æ—¶é—´æ®µ+#+è¿ç»­ block æ•°
- `Tags` (multi-select) - ä¸»é¢˜æ ‡ç­¾

### Page Template ç»“æ„

```
## ğŸ“‹ åŸºæœ¬ä¿¡æ¯

**ç›®çš„**ï¼š[ä¸€å¥è¯æè¿°ä¸ºä»€ä¹ˆåšè¿™ä»¶äº‹]

**å…·ä½“è¡ŒåŠ¨**ï¼š[å…·ä½“åšäº†ä»€ä¹ˆï¼Ÿå¯ä»¥æ˜¯å¤šæ¡]

---

## ğŸ“ è¯¦ç»†å†…å®¹

[åœ¨è¿™é‡Œè‡ªç”±è®°å½•å­¦ä¹ ç¬”è®°ã€æ€è€ƒè¿‡ç¨‹ã€ä»£ç ç‰‡æ®µç­‰]

---

## ğŸ”— å‚è€ƒèµ„æ–™

[é£ä¹¦æ–‡æ¡£é“¾æ¥ã€ç½‘é¡µé“¾æ¥ç­‰]
```

### Heartbeat æœºåˆ¶

**æ‰§è¡Œæµç¨‹ï¼š**

1. å®šæ—¶ä»»åŠ¡ï¼ˆcron jobï¼‰ï¼Œæ¯æ—¥å›ºå®šæ—¶é—´æ‰§è¡Œ
2. è¯»å– Notion databaseï¼Œè·å–ä¸Šæ¬¡ heartbeat ä¹‹åçš„æ–°å¢è®°å½•
3. å¯¹æ¯æ¡è®°å½•ï¼š
   - è¯»å–è¯¥è®°å½•å¯¹åº”çš„ page å†…å®¹
   - AI æå–"ç›®çš„"ã€"å…·ä½“è¡ŒåŠ¨"
   - å¦‚æœ Tags ä¸ºç©ºï¼ŒAI è‡ªåŠ¨è¯†åˆ«å¹¶å¡«å……ï¼ˆæ ¼å¼ï¼šåŠ¨ä½œç±»å‹-ç»†åˆ†é¢†åŸŸï¼‰
4. æŒ‰ä¸»é¢˜æ ‡ç­¾åˆ†ç»„ï¼Œç”Ÿæˆæ—¥æŠ¥
5. é€šè¿‡ Telegram Bot å‘é€åˆ°ç¾¤ç»„ -5022816091

**æ—¥æŠ¥æ ¼å¼ç¤ºä¾‹ï¼š**
```
ğŸ“… 2026-02-02 æ—¥æŠ¥

ä»Šå¤©å®Œæˆäº† 5 ä»¶äº‹ï¼Œé›†ä¸­åœ¨ [å­¦ä¹ -AI], [å­¦ä¹ -ç¥ç»ç§‘å­¦], [å®è·µ-OpenClaw] æ–¹å‘ï¼š

1. å­¦ä¹ -AIï¼šæ·±åº¦å­¦ä¹ åŸºç¡€
   ç›®çš„ï¼šæŒæ¡ç¥ç»ç½‘ç»œæ ¸å¿ƒæ¦‚å¿µ
   å…·ä½“è¡ŒåŠ¨ï¼šé˜…è¯»ã€Šæ·±åº¦å­¦ä¹ ã€‹ç¬¬3ç« ï¼Œå®Œæˆ3é“ç»ƒä¹ é¢˜

2. å­¦ä¹ -ç¥ç»ç§‘å­¦ï¼šå¤§è„‘ç»“æ„ç ”ç©¶
   ç›®çš„ï¼šç†è§£å¤§è„‘çš„åŸºæœ¬å·¥ä½œåŸç†
   å…·ä½“è¡ŒåŠ¨ï¼šæ•´ç†è„‘ç§‘å­¦ç¬”è®°ï¼Œç»˜åˆ¶æ€ç»´å¯¼å›¾

...
```

### æ ‡ç­¾ç³»ç»Ÿ

**æ ¼å¼ï¼š** `åŠ¨ä½œç±»å‹-ç»†åˆ†é¢†åŸŸ`

**é¢„è®¾é€‰é¡¹ï¼š**
- å­¦ä¹ -ç¥ç»ç§‘å­¦
- å­¦ä¹ -AI
- å­¦ä¹ -LBS
- å®è·µ-OpenClaw

**æ‰©å±•è§„åˆ™ï¼š**
- åŠ¨ä½œç±»å‹ï¼šå­¦ä¹ ã€å®è·µã€åˆ›ä½œã€ä¼šè®®ã€å…¶ä»–
- ç»†åˆ†é¢†åŸŸï¼šå¯æ ¹æ®éœ€è¦çµæ´»æ·»åŠ 
- AI ä¼šæ ¹æ®å†…å®¹è‡ªåŠ¨è¯†åˆ«å¹¶å¡«å……æ ‡ç­¾

---

## æ‰§è¡Œ Prompt

> ä½¿ç”¨ CLARIFICATION_PROTOCOL v1.0 ç”Ÿæˆ

---

### Task 1: å®ç° Heartbeat Cron Job

åˆ›å»ºä¸€ä¸ª cron jobï¼Œæ¯å¤©æ‰§è¡Œä»¥ä¸‹ä»»åŠ¡ï¼š

1. **è¯»å– Notion Database**
   - ä½¿ç”¨ Database ID: 2fa8daf1727c80929790e2e9a276371d
   - è·å–ä¸Šæ¬¡ heartbeat æ—¶é—´æˆ³ï¼ˆå­˜å‚¨åœ¨ `memory/heartbeat-state.json`ï¼‰
   - æŸ¥è¯¢è¯¥æ—¶é—´æˆ³ä¹‹åçš„æ–°å¢è®°å½•

2. **å¤„ç†æ¯æ¡è®°å½•**
   - è¯»å–è®°å½•å¯¹åº”çš„ page å†…å®¹
   - æå–"ç›®çš„"å’Œ"å…·ä½“è¡ŒåŠ¨"ï¼ˆä» page çš„ ğŸ“‹ åŸºæœ¬ä¿¡æ¯ éƒ¨åˆ†ï¼‰
   - æ£€æŸ¥ Tags å­—æ®µï¼š
     - å¦‚æœä¸ºç©ºï¼šAI åˆ†æå†…å®¹ï¼Œé€‰æ‹©æœ€åˆé€‚çš„ tagï¼ˆæ”¯æŒå¤šé€‰ï¼‰ï¼Œæ›´æ–°è®°å½•
     - å¦‚æœå·²æœ‰ï¼šè·³è¿‡

3. **ç”Ÿæˆæ—¥æŠ¥**
   - æŒ‰ä¸»é¢˜æ ‡ç­¾åˆ†ç»„ç»Ÿè®¡
   - æ ¼å¼ï¼š
     ```
     ğŸ“… YYYY-MM-DD æ—¥æŠ¥

     ä»Šå¤©å®Œæˆäº† N ä»¶äº‹ï¼Œé›†ä¸­åœ¨ [tag1], [tag2], [tag3] æ–¹å‘ï¼š

     1. [tag1]ï¼šæ ‡é¢˜
        ç›®çš„ï¼š...
        å…·ä½“è¡ŒåŠ¨ï¼š...

     2. [tag2]ï¼šæ ‡é¢˜
        ç›®çš„ï¼š...
        å…·ä½“è¡ŒåŠ¨ï¼š...
     ```

4. **å‘é€åˆ° Telegram**
   - ç›®æ ‡ç¾¤ç»„ï¼š-5022816091
   - ä½¿ç”¨ message å·¥å…·å‘é€æ—¥æŠ¥

5. **æ›´æ–°çŠ¶æ€**
   - æ›´æ–° `memory/heartbeat-state.json` ä¸­çš„ `lastHeartbeat` æ—¶é—´æˆ³

---

### Task 2: åˆ›å»ºè¾…åŠ©è„šæœ¬

**è„šæœ¬ 1: `scripts/notion-heartbeat.js`**
- åŠŸèƒ½ï¼šæ‰§è¡Œ heartbeat æ£€æŸ¥
- ä¾èµ–ï¼š`/root/clawd/skills/notion-persistence/.env`
- è¾“å‡ºï¼šæ—¥æŠ¥ï¼ˆMarkdown æ ¼å¼ï¼‰

**è„šæœ¬ 2: `scripts/fill-tags.js`**
- åŠŸèƒ½ï¼šæ‰¹é‡å¡«å……ç©º tags
- é€»è¾‘ï¼šè¯»å– page å†…å®¹ â†’ AI è¯†åˆ« â†’ æ›´æ–°è®°å½•

---

### Task 3: Cron Job é…ç½®

ä½¿ç”¨ cron å·¥å…·åˆ›å»ºå®šæ—¶ä»»åŠ¡ï¼š
- é¢‘ç‡ï¼šæ¯å¤© 1 æ¬¡
- æ—¶é—´ï¼šå¾…å®šï¼ˆéœ€è¦ç”¨æˆ·ç¡®è®¤ï¼‰
- å‘½ä»¤ï¼š`node scripts/notion-heartbeat.js`

---

## æ³¨æ„äº‹é¡¹

1. **Notion API é™åˆ¶**
   - å½“å‰ç‰ˆæœ¬ `@notionhq/client` (2.2.15) ä¸æ”¯æŒ `databases.query` æ–¹æ³•
   - ä½¿ç”¨ curl ç›´æ¥è°ƒç”¨ APIï¼ˆå‚è€ƒ `save-discussion.js`ï¼‰

2. **Tag æ ¼å¼çº¦æŸ**
   - å¿…é¡»ä¿æŒ `åŠ¨ä½œç±»å‹-ç»†åˆ†é¢†åŸŸ` æ ¼å¼
   - AI å¡«å……æ—¶éœ€è¦éªŒè¯æ ¼å¼æ­£ç¡®æ€§

3. **ç”¨æˆ·ä¹ æƒ¯**
   - ç”¨æˆ·çš„è®°å½•æ–¹å¼æ˜¯ time blockï¼ˆæ—¶é—´æ®µ+#+è¿ç»­ block æ•°ï¼‰
   - Time Block å­—æ®µå­˜å‚¨æ ¼å¼ï¼š`0900-1000#1`

4. **é£ä¹¦æ–‡æ¡£æƒé™**
   - ç”¨æˆ·å·²å¼€æ”¾é£ä¹¦æ–‡æ¡£æƒé™
   - å¯é€šè¿‡ `web_fetch` è¯»å–å†…å®¹

5. **Template åˆ›å»º**
   - ç”¨æˆ·éœ€è¦æ‰‹åŠ¨åˆ›å»º "æ—¶é—´å—è®°å½•æ¨¡æ¿"
   - ä½¿ç”¨è®¨è®ºç»“æœä¸­çš„ template ç»“æ„

---

## é…ç½®ä¿¡æ¯

- **Notion Database ID:** 2fa8daf1727c80929790e2e9a276371d
- **Telegram Daily Report Group ID:** -5022816091
- **Telegram Discussion Group ID:** -5079148766
- **Notion Skill Path:** `/root/clawd/skills/notion-persistence`

---

*æœ€åæ›´æ–°ï¼š2026-02-02*
*åè®®ç‰ˆæœ¬ï¼šv1.0*
